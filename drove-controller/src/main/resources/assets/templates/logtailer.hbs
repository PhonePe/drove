<!DOCTYPE html>
<!-- This is copied almost verbatim from https://github.com/apache/mesos/blob/master/src/webui/app/shared/pailer.html -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Drove Log Viewer">
    <meta name="author" content="Santanu Sinha">
    <meta name="viewport" content="width=device-width" />
    <meta name="color-scheme" content="dark light" />

    <title>D R O V E - Log Viewer</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <link href="/css/drove.css" rel="stylesheet">

</head>
<body style="overflow: hidden;" class="container-fluid pailer-body">
<header style="margin-bottom: 0px;">
    <nav class="navbar navbar-expand-lg" id="topbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <svg width="35" height="35"  fill="currentColor" alt="" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                    <g>
                        <g>
                            <path d="M397.384,82.589c-2.565-16.131-11.257-30.297-24.478-39.89c-13.22-9.594-29.388-13.466-45.515-10.899
                                c-16.131,2.565-30.297,11.257-39.891,24.479c-18.324,25.253-16.046,105.909-15.726,115.024c0.086,2.469,1.305,4.762,3.306,6.213
                                c1.982,1.438,4.577,1.894,6.932,1.216c8.763-2.522,86.15-25.376,104.474-50.628C396.077,114.884,399.948,98.719,397.384,82.589z
                                 M373.495,118.679c0,0.001,0,0.001,0,0.001c-11.192,15.425-59.117,33.094-85.898,41.584c-0.235-28.094,1.699-79.137,12.891-94.561
                                c7.075-9.75,17.525-16.162,29.422-18.054c2.398-0.38,4.796-0.569,7.178-0.569c9.436,0,18.606,2.959,26.392,8.608
                                c9.75,7.075,16.162,17.524,18.054,29.421C383.426,97.007,380.572,108.929,373.495,118.679z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M237.119,186.919c-1.969-3.738-49.032-91.824-119.057-113.538C76.286,60.427,15.41,78.38,2.472,120.103
                                c-12.938,41.722,27.102,90.965,68.878,103.919c12.406,3.847,26.166,5.776,41.105,5.776c7.012,0,14.287-0.425,21.797-1.277
                                c4.403-0.5,7.567-4.473,7.068-8.878c-0.5-4.403-4.482-7.558-8.878-7.068c-21.288,2.417-40.245,1.109-56.338-3.88
                                c-16.97-5.263-34.185-18.1-46.05-34.342C17.74,157.496,13.273,139.456,17.8,124.856c4.527-14.6,18.417-26.948,38.108-33.881
                                c18.971-6.681,40.429-7.527,57.4-2.265c52.644,16.324,92.891,77.383,105.48,98.474c-11.272,5.204-34.122,14.831-60.676,20.932
                                c-4.319,0.993-7.016,5.298-6.023,9.617s5.3,7.017,9.617,6.023c39.784-9.141,70.752-25.314,72.051-25.998
                                C237.621,195.724,239.156,190.79,237.119,186.919z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M253.117,461.176c-30.44-28.737-48.734-69.214-50.195-111.052c-0.114-3.291-2.311-6.252-5.426-7.315
                                c-3.322-1.133-7.102,0.088-9.136,2.949c-36.884,51.961-65.859,99.991-66.147,100.469c-2.849,4.734,0.017,11.046,5.438,12.033
                                c0.551,0.101,55.747,10.085,119.12,16.731c3.386,0.351,6.707-1.536,8.129-4.63C256.321,467.267,255.591,463.512,253.117,461.176z
                                 M142.124,444.474c8.709-14.02,25.917-41.205,46.952-71.733c5.04,30.681,18.215,59.83,37.915,83.885
                                C190.186,452.246,158.405,447.201,142.124,444.474z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M447.984,443.393c-2.638-0.859-5.073-1.712-7.449-2.608c-42.249-15.946-75.76-47.391-94.358-88.54
                                c-18.599-41.15-20.06-87.08-4.115-129.328c0.856-2.268,1.767-4.515,2.719-6.744c0.866-2.026,1.201-4.093,0.504-6.234
                                c-1.3-3.987-5.604-6.333-9.66-5.276c-7.69,2.013-15.258,4.693-22.492,7.962c-18.854,8.521-41.953,29.026-70.616,62.689
                                c-0.784,0.921-1.351,2.008-1.656,3.18c-10.088,38.727-6.531,80.217,10.015,116.824c16.547,36.609,45.34,66.693,81.074,84.708
                                c1.081,0.545,2.27,0.838,3.48,0.858c3.553,0.059,7.018,0.088,10.397,0.088c38.658,0,65.977-3.834,83.316-11.671
                                c7.234-3.269,14.245-7.179,20.84-11.623C455.424,454.012,454.209,445.42,447.984,443.393z M422.536,454.677
                                c-16.171,7.308-44.773,10.741-84.983,10.19c-65.239-33.837-99.316-109.234-81.61-180.561
                                c26.172-30.557,47.631-49.749,63.801-57.057c1.473-0.665,2.961-1.303,4.464-1.913c-29.559,90.67,15.127,189.533,102.716,227.254
                                C425.472,453.316,424.009,454.012,422.536,454.677z"/>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path d="M499.477,282.957c-7.989-17.676-19.258-33.204-33.497-46.154c-3.277-2.984-8.354-2.743-11.335,0.537
                                c-2.981,3.277-2.741,8.354,0.537,11.334c12.608,11.467,22.59,25.225,29.671,40.892c17.411,38.526,13.932,83.661-8.872,119.087
                                c-5.039-1.262-10.022-2.82-14.871-4.65c-68.944-26.022-103.864-103.283-77.843-172.228c1.832-4.851,3.954-9.622,6.337-14.238
                                c13.914,2.086,27.28,6.475,39.802,13.073c3.92,2.065,8.773,0.563,10.839-3.358c2.067-3.92,0.563-8.773-3.358-10.839
                                c-15.904-8.382-33.017-13.6-50.864-15.512c-3.179-0.35-6.256,1.238-7.833,4.017c-3.842,6.769-7.185,13.898-9.937,21.19
                                c-29.146,77.224,9.966,163.76,87.191,192.909c7.29,2.752,14.851,4.953,22.471,6.541c3.098,0.646,6.366-0.642,8.192-3.226
                                c13.917-19.699,22.606-42.789,25.129-66.772C513.837,330.837,509.77,305.731,499.477,282.957z"/>
                        </g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>
                    <g>
                    </g>

                </svg>
                <span class="ms-2 fw-semibold align-middle">Logs for {{appId}}/{{instanceId}}</span>
                <span class="badge bg-{{{badgeColor installationMetadata.installation.criticality}}} rounded-pill fw-bold" style="font-size: 60%; margin-left: 1em">
                    {{installationMetadata.installation.label}}
                </span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
<!--                <ul class="navbar-nav">-->
<!--                    <li class="nav-item dropdown">-->
<!--                        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">-->
<!--                            <symbol id="circle-half" viewBox="0 0 16 16">-->
<!--                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>-->
<!--                            </symbol>-->
<!--                            <symbol id="moon-stars-fill" viewBox="0 0 16 16">-->
<!--                                <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>-->
<!--                                <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>-->
<!--                            </symbol>-->
<!--                            <symbol id="sun-fill" viewBox="0 0 16 16">-->
<!--                                <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>-->
<!--                            </symbol>-->
<!--                        </svg>-->

<!--                        <button class="btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center"-->
<!--                                id="bd-theme"-->
<!--                                type="button"-->
<!--                                aria-expanded="false"-->
<!--                                data-bs-toggle="dropdown"-->
<!--                                data-bs-display="static"-->
<!--                                aria-label="Toggle theme (auto)">-->
<!--                            <svg class="bi my-1 theme-icon-active"  fill="currentColor" width="16" height="19"><use href="#circle-half"></use></svg>-->
<!--                            <span class="d-lg-none ms-2" id="bd-theme-text">Toggle theme</span>-->
<!--                        </button>-->
<!--                        <ul class="dropdown-menu dropdown-menu-end me-4" aria-labelledby="bd-theme-text">-->
<!--                            <li>-->
<!--                                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">-->
<!--                                    <svg class="bi me-2 opacity-50 theme-icon" fill="currentColor" width="16" height="19"><use href="#sun-fill"></use></svg>-->
<!--                                    Light-->
<!--                                    <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>-->
<!--                                </button>-->
<!--                            </li>-->
<!--                            <li>-->
<!--                                <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">-->
<!--                                    <svg class="bi me-2 opacity-50 theme-icon"  fill="currentColor" width="16" height="19"><use href="#moon-stars-fill"></use></svg>-->
<!--                                    Dark-->
<!--                                    <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>-->
<!--                                </button>-->
<!--                            </li>-->
<!--                            <li>-->
<!--                                <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">-->
<!--                                    <svg class="bi me-2 opacity-50 theme-icon"  fill="currentColor" width="16" height="19"><use href="#circle-half"></use></svg>-->
<!--                                    Auto-->
<!--                                    <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>-->
<!--                                </button>-->
<!--                            </li>-->
<!--                        </ul>-->
<!--                    </li>-->
<!--                </ul>-->
            </div>

        </div>
    </nav>
</header>

<div class="pailer-indicator" id="indicator"></div>
<div class="container-fluid">
    <div class="row">
        <div class="col pailer-data-container" id="data-container">
            <pre class="pailer-data" id="data"></pre>
        </div>
    </div>
</div>



<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery-3.7.0.min.js"></script>
<script src="/js/cookies.min.js"></script>
<script src="/js/jquery.pailer.js"></script>
<script src="/js/toggler.min.js"></script>

<script>
      var $body = $('body');
      var $data = $('#data');

      function resize() {
        var margin_left = parseInt($body.css('margin-left'));
        var margin_top = parseInt($body.css('margin-top'));
        var margin_bottom = parseInt($body.css('margin-bottom'));
        $data
          .width($('#data-container').width() - parseInt($data.css('padding-left')) - parseInt($data.css('padding-right')) - margin_left)
          .height($(window).height() - Math.ceil($('header').height()) - parseInt($data.css('padding-top')) - margin_top - parseInt($data.css('padding-bottom')) - margin_bottom);
      }

      $(window).resize(resize);

      $(document).ready(function() {
        resize();

        var storageKey = "{{appID}}-{{instanceId}}";

        $data.pailer({
          read: function(options) {
            var settings = $.extend({
              'offset': -1,
              'length': -1
            }, options);

            var url = '/apis/v1/logfiles/{{logType}}/{{appId}}/{{instanceId}}/read/{{logFileName}}'
                + '?offset=' + settings.offset
                + '&length=' + ((settings.length && settings.length != 0) ? settings.length : -1);
            return $.getJSON(url);
          },
          'indicator': $('#indicator')
        });
      });
    </script>
</body>
</html>
